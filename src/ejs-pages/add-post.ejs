<!DOCTYPE html>
<html lang="en">
  <%-include('./partials/head.ejs')%>
  <body>
    <header class="header">
      <div class="container">
        <div class="header__inner">
          <nav class="header__menu">
            <h1 class="header__title"><a href="/posts">Your notes</a></h1>
            <ul class="header__list">
              <li class="header__item"><a href="/posts">posts</a></li>
              <li class="header__item"><a href="/add-post">add-post</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
    <section class="add-post">
      <div class="container">
        <h1 class="title">POSTS</h1>
        <div class="add-post__inner">
          <form id="post-form" action="/add-post" class="form" method="post">
            <div class="form-info">
              <label>
                Post title
                <input id="input-text" type="text" name="title" />
              </label>
              <label
                >Author
                <input id="input-text" type="text" name="author" />
              </label>
            </div>
            <div class="form-text">
              <label
                >Post text
                <textarea id="input-text" name="text"></textarea>
              </label>
            </div>
            <div class="form-button">
              
                <button class="button" type="submit" value="submit">
                  <span>SUBMIT</span>
                </button>
             
            </div>
          </form>
        </div>
      </div>
    </section>
    <script type="text/javascript">
      function check() {
        let input = document.querySelectorAll("#input-text");
        let button = document.querySelector(".button");
        button.classList.add("dis");
        button.disabled = true; // Make button disabled initially
        input.forEach((i) =>
          i.addEventListener("keyup", function (event) {
            let val = event.target.value; // input's current value
            let vals=[...input].filter(f=>f.value==="");  
            console.log(vals.length);
            if (vals.length===0) {
              button.disabled = false; 
              button.classList.remove("dis");
            } else {
              button.disabled = true; 
              button.classList.add("dis");
              
            }
          })
        );
      }
      check();
    </script>
  </body>
</html>
